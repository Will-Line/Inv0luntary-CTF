{% extends "base.html" %}
<!doctype html>
<html lang="en">

{% block body %}

{% if error %}
<h3>
    Reset password error
</h3>
{% else %}
<div>
    <form method="POST" class="form-signin mt-3" onSubmit="return checkPassword(this)">
        <div class="modal-body">
            Enter your new password.<br><br>

            <label for="newPassword" class="sr-only">New password</label>
            <input type="password" name="newPassword" id="newPassword" class="form-control" placeholder="" required="">
            <label for="confirmPassword" class="sr-only">Confirm new password</label>
            <input type="password" name="confirmPassword" id="confirmPassword" class="form-control" placeholder=""
                required="">

            <p id="errorMessage" name="errorMessage" style="color: rgb(232, 27, 27);">

            </p>

            {{ flashMessages() }}
        </div>
        <div>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Reset password</button>
        </div>

    </form>
    <div>
        <script>

            // Function to check Whethepassword2 = form.confirm{r both passwords
            // is same or not.
            function checkPassword(form) {
                password1 = form.newPassword.value;
                password2 = form.confirmPassword.value;

                // If password not entered
                if (password1 == '')
                    document.getElementById("errorMessage").innerHTML = "Enter a password";


                // If confirm password not entered
                else if (password2 == '')
                    document.getElementById("errorMessage").innerHTML = "Enter the confirm password";


                // If Not same return False.    
                else if (password1 != password2) {
                    document.getElementById("errorMessage").innerHTML = "Passwords do not match";
                    return false;
                }

                // If same return True.
                else {
                    return true;
                }

                return false;
            }
        </script>
        {% endif %}

        {% endblock body %}